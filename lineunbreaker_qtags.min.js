QTags.addButton("lineunbreaker","!br",lineunbreaker_qtags);function lineunbreaker_qtags(){var e=jQuery("#content");var b=e.val().length;var f=e[0].selectionStart;var c=e[0].selectionEnd;var d=e.val().substring(f,c);var a=d.replace(/(\r\n|\n|\r|<br\s*[\/]?>)/gim,function(i,n,m,k){var j=false;var h=false;if(m>0){var g=k.charAt(m-1);if(g===" "){j=true}if(g==="-"||g==="‐"){h=true}}if(m<k.length-1-n.length){var l=k.charAt(m+n.length);if(l===" "){j=true}if(l==="-"||l==="‐"){h=true}}return h||j?"":" "});e.val(e.val().substring(0,f)+a+e.val().substring(c,b))};